package hr.fer.zemris.java.tecaj.hw1;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Rectangle {

	public static void main(String[] args) throws IOException {
		double a = 0.0,b = 0.0;
		double area = 0.0, perimeter = 0.0;
		if(args.length == 2){
			a = Double.parseDouble(args[0]);
			b = Double.parseDouble(args[1]);
		} else {
			a = getEdge("width");
			b = getEdge("height");
		}
		
		if(!Double.valueOf(a).equals(0.0) && Double.valueOf(a).equals(0.0)){
			area = a*b;
			perimeter = 2*a + 2*b;
		}
		
		System.out.printf("You have specified a rectangle with width %f and height %f. Its area is %f and its perimeter is %f", a, b, area, perimeter);
	}

	private static double getEdge(String string) throws IOException {
		BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
		Double value = 0.0;
		while(true) {
			System.out.println("Please provide " + string + ":");
			String red = reader.readLine();
			if(red == null) {
				break;
			}
			if(red.isEmpty()){
				System.out.println("Nothing was given");
				continue;
			}
			value = Double.parseDouble(red);
			if(value > 0) {
				break;
			} else {
				System.out.println(string + " is negative");
				continue;
			}
		}
		reader.close();
		return value;
	}

}
